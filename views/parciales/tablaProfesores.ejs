<% if (Object.keys(profesoresPorCurso).length === 0) { %>
  <div class="alert alert-warning mt-4" role="alert">
    No hay docentes que coincidan con la búsqueda.
  </div>
<% } else { %>
  <% Object.keys(profesoresPorCurso).forEach(curso => { %>
    <h2 class="mt-4"><%= curso %> Año</h2>
    <div class="table-responsive">
      <table class="table table-striped align-middle">
        <thead class="table-dark">
          <tr>
            <th>DNI</th>
            <th>Apellido</th>
            <th>Nombre</th>
            <th>Materia</th>
            <th>Activo</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          <% profesoresPorCurso[curso].forEach(p => { %>
            <tr>
              <td><%= p.dni %></td>
              <td><%= p.apellido %></td>
              <td><%= p.nombre %></td>
              <td><%= p.materia_nombre || '-' %></td>
              <td>
                <div class="form-check form-switch">
                  <input 
                    class="form-check-input switch-activo" 
                    type="checkbox" 
                    role="switch"
                    data-id="<%= p.id %>"
                    <%= p.activo ? 'checked' : '' %>
                  >
                  <span class="ms-2 fw-bold" style="color: <%= p.activo ? 'green' : 'red' %>">
                    <%= p.activo ? 'Sí' : 'No' %>
                  </span>
                </div>
              </td>
              <td>
                <button class="btn btn-sm btn-primary me-1">
                  <i class="bi bi-pencil-fill"></i>
                </button>
                <button class="btn btn-sm btn-danger">
                  <i class="bi bi-trash-fill"></i>
                </button>
              </td>
            </tr>
          <% }) %>
        </tbody>
      </table>
    </div>
  <% }) %>
<% } %>
